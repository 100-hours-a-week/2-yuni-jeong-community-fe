<!doctype html>
<html lang="ko">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>회원정보 수정 - 아무 말 대잔치</title>
        <link rel="stylesheet" href="/css/common.css" />
        <link rel="stylesheet" href="/css/signin.css" />
        <link rel="stylesheet" href="/css/edit-profile.css" />
        <link rel="stylesheet" href="/css/modal.css" />
    </head>
    <body>
        <header class="community-header">
            <h1 class="community-title" onclick="location.href='/posts'">
                아무 말 대잔치
            </h1>
            <div class="profile-container">
                <img
                    alt="프로필 사진"
                    class="user-profile"
                    id="profileImage"
                />
                <div class="dropdown-menu" id="dropdownMenu">
                    <div
                        class="dropdown-item"
                        onclick="location.href='/profile/edit'"
                    >
                        회원정보 수정
                    </div>
                    <div
                        class="dropdown-item"
                        onclick="location.href='/password/change'"
                    >
                        비밀번호 수정
                    </div>
                    <div class="dropdown-item" onclick="logout()">로그아웃</div>
                </div>
            </div>
        </header>

        <div class="header-divider"></div>

        <div class="page-title">회원정보수정</div>
        <div class="page-container">
            <form class="form-container">
                <div class="profile-photo-container">
                    <label
                        for="profilePhoto"
                        class="profile-photo"
                        id="profilePhotoContainer"
                    >
                        <span class="plus-icon">+</span>
                    </label>
                    <input
                        type="file"
                        id="profilePhoto"
                        accept="image/*"
                        style="display: none"
                    />
                    <span id="profilePhotoHelper" class="helper-text"
                        >프로필 사진을 수정하세요.</span
                    >
                </div>

                <div class="input-group">
                    <label for="email">이메일</label>
                    <div class="email-display"></div>
                </div>

                <div class="input-group">
                    <label for="nickname">닉네임</label>
                    <input
                        type="text"
                        id="nickname"
                        placeholder="새 닉네임을 입력하세요"
                    />
                    <span class="helper-text"></span>
                </div>

                <button type="button" class="submitButton" id="saveButton">
                    수정하기
                </button>
                <button
                    type="button"
                    class="bottomButton"
                    id="deleteAccountButton"
                >
                    회원 탈퇴
                </button>
            </form>
        </div>

        <!-- 모달 구조 추가 -->
        <div id="deleteAccountModal" class="modal-overlay">
            <div class="modal-content">
                <p class="modal-title">회원 탈퇴 하시겠습니까?</p>
                <p class="modal-description">
                    작성된 게시글과 댓글은 삭제됩니다.
                </p>
                <div class="modal-buttons">
                    <button
                        id="cancelButton"
                        class="modal-button cancel-button"
                    >
                        취소
                    </button>
                    <button
                        id="confirmButton"
                        class="modal-button confirm-button"
                    >
                        확인
                    </button>
                </div>
            </div>
        </div>

        <script type="module" src="/js/validation.js"></script>
        <script type="module" src="/js/editProfile.js"></script>
        <script type="module" src="/js/profilePhoto.js"></script>
        <script src="/js/dropdownMenu.js"></script>
    </body>
</html>
